### خلاصه فصل دوم: لایه واسط شبکه و استانداردهای انتقال داده

فصل دوم به بررسی **لایه واسط شبکه**، مسائل خطوط انتقال داده و استانداردهای مختلف انتقال روی خطوط نقطه به نقطه و کانال‌های مشترک می‌پردازد. این فصل شامل معرفی انواع کانال‌های انتقال، روش‌های کشف و تصحیح خطا، و استانداردهای مهم شبکه‌های محلی و بی‌سیم است.

---

### لایه واسط شبکه و نقش آن

- **لایه واسط شبکه** وظیفه تبدیل کانال‌های دارای خطا به خطوط مطمئن و بدون خطا را بر عهده دارد.
- این لایه عملیات **فریم‌بندی اطلاعات** و مدیریت داده‌ها را انجام می‌دهد تا بسته‌های IP در طول تغییرات شبکه بدون دستکاری به مقصد برسند.
- سخت‌افزار انتقال در این لایه مسئول ارسال بیت‌ها بدون توجه به نوع و محتوای داده است.
  
### انواع کانال‌های انتقال

کانال‌های انتقال بر اساس نوع فیزیکی و پهنای باند به شرح زیر تقسیم می‌شوند:

| نوع کانال               | پهنای باند تقریبی            | مشخصات و توضیحات                                         |
|------------------------|-----------------------------|----------------------------------------------------------|
| خطوط تلفن              | حدود 4 کیلوهرتز              | معمول و ارزان، پهنای باند پایین                         |
| سیم‌های به هم بافته شده (زوج سیم) | چند ده تا صد مگاهرتز          | مناسب فواصل کوتاه، انواع: UTP، STP با پوشش آلومینیومی  |
| کابل‌های هم‌محور (کواکسیال) | چند صد مگاهرتز              | نوع‌های مختلف: ضخیم، نازک، 50 اهم، 75 اهم               |
| کانال‌های رادیویی       | چند مگاهرتز                  | باندهای UHF، VHF و مناسب جایگزین کابل‌کشی               |
| کانال‌های ماهواره‌ای    | چند صد مگاهرتز              | پوشش سراسری، باندهای C، Ku، Ka                           |
| فیبر نوری               | چند گیگاهرتز                | پهنای باند بسیار بالا، انواع تک‌مد و چندمد               |
| امواج طیف نوری         | *Not specified*              | شامل نور مادون قرمز                                       |

**قیمت، پیچیدگی و میزان خطا در کانال‌ها** نیز متفاوت است: کانال‌های ماهواره‌ای و رادیویی معمولاً پرهزینه‌تر و دارای خطای بیشتر هستند، در حالی که فیبر نوری بسیار گران اما با کمترین خطا و پهنای باند بالا است.

---

### مفاهیم کلیدی در انتقال داده

- **پهنای باند کانال (B):** توانایی و ظرفیت کانال برای ارسال داده‌ها بر حسب بیت بر ثانیه.
- **رابطه شانون:**  
  \[
  C = B \log_2(1 + \frac{S}{N})
  \]
  - C: ظرفیت کانال (بیت بر ثانیه)  
  - B: پهنای باند کانال (هرتز)  
  - S: توان سیگنال  
  - N: توان نویز  

---

### انواع خطا و روش‌های کشف آن

- **انواع خطا:**  
  - نویز حرارتی  
  - شوک‌های الکتریکی  
  - نویز کیهانی  

- **روش‌های کشف خطا:**  
  - بیت توازن (Parity Bit): اضافه کردن یک بیت به هر بایت داده برای بررسی زوج یا فرد بودن تعداد بیت‌های 1  
  - Checksum: جمع XOR تمام بایت‌های فریم برای تشخیص خطا  
  - کدهای CRC (Cyclic Redundancy Check): محاسبه بیت‌های کنترلی بر اساس تقسیم چندجمله‌ای، دقت بالا در کشف خطا  

---

### استانداردهای انتقال روی خطوط نقطه به نقطه

1. **پروتکل SLIP (Serial Line IP):**  
   - ارسال داده‌های IP روی خطوط سریال با علامت 0xC0 به عنوان شروع و پایان فریم  
   - معایب: عدم وجود کد کشف خطا، پشتیبانی محدود از بسته‌های IP، عدم احراز هویت  
   
2. **پروتکل PPP (Point to Point Protocol):**  
   - مراحل برقراری ارتباط شامل شماره‌گیری مودم، تبادل بسته‌های LCP (Link Control Protocol) و NCP (Network Control Protocol) برای تنظیم پارامترها  
   - فریم PPP شامل فیلدهای آدرس (همیشه 1)، کنترل (غیر شماره‌گذاری شده)، پروتکل (مشخص کننده نوع داده)، چک‌سام برای کشف خطا، و Payload (معمولاً تا 1500 بایت)  
   - بسته‌های LCP مهم شامل Configure Request/Ack/Nack/Reject، Terminate Request/Ack، Echo Request/Reply و ... برای مدیریت ارتباط و خطا  
   - **مزیت:** پشتیبانی از احراز هویت، انعطاف‌پذیری بالا، کشف و تصحیح خطا  

---

### استانداردهای واسط شبکه‌های محلی با کانال مشترک

#### 1. IEEE 802.3 (Ethernet)

- توپولوژی: باس  
- مدیریت کانال: CSMA/CD (Carrier Sense Multiple Access with Collision Detection)  
- روش کار:  
  - گوش دادن به کانال قبل از ارسال  
  - شروع ارسال در صورت آزاد بودن کانال  
  - تشخیص تصادم و توقف ارسال در صورت بروز  
  - تولید زمان تصادفی برای ارسال مجدد  
- مشخصات فیزیکی:  
  - سرعت: 10 مگابیت بر ثانیه  
  - کدینگ: منچستر  
  - کانال: کابل کواکسیال 50 اهم یا زوج سیم  
  - طول کانال: حداکثر 500 متر (کواکسیال ضخیم)، 185 متر (کواکسیال نازک)، 100 متر (زوج سیم)  
- راندمان کانال تابعی از طول فریم، پهنای باند، طول کانال و سرعت انتشار است و افزایش نرخ ارسال یا کاهش طول فریم باعث کاهش راندمان می‌شود.  
- مزایا: هزینه کم، تأخیر کم در بار پایین، راندمان مناسب در بار متوسط  
- معایب: عدم وجود اولویت‌بندی فریم‌ها، عدم پشتیبانی مناسب از صوت و تصویر  

#### 2. IEEE 802.4 (Token Bus)

- توپولوژی: باس با حلقه مجازی  
- هدف: جلوگیری از تصادم با سازماندهی دسترسی ایستگاه‌ها به کانال توسط توکن  
- ویژگی‌ها:  
  - هر ایستگاه از آدرس ایستگاه‌های چپ و راست خود آگاهی دارد  
  - ارسال توکن به ایستگاه بعدی پس از اتمام ارسال فریم  
  - اولویت‌بندی فریم‌ها وجود دارد (سطوح اولویت 0، 2، 4، 6)  
- معایب:  
  - پیاده‌سازی بسیار پیچیده  
  - نیاز به حداقل 10 تایمر برای کنترل و نظارت  
  - استفاده از کابل کواکسیال 75 اهم معمول تلویزیون  

#### 3. IEEE 802.5 (Token Ring)

- توپولوژی: حلقه  
- روش کار:  
  - هر ایستگاه فریم‌های دریافتی را دریافت، تقویت و به ایستگاه بعدی ارسال می‌کند  
  - ایجاد تأخیر حداقل یک بیت هنگام عبور فریم از هر ایستگاه  
  - حالت‌های ایستگاه: ارسال، شنود، غیر فعال  
- استفاده از MAU (Multi Access Unit) برای جلوگیری از قطع کل حلقه در صورت خرابی یک ایستگاه  
- ویژگی‌ها:  
  - سخت‌افزار کاملاً دیجیتال  
  - اولویت‌بندی فریم‌ها و امکان ارسال همزمان صوت و تصویر با اولویت بالا  
  - راندمان بسیار بالا در بار بالا (نزدیک به 100%)  
  - تأخیر ناچیز در بار پایین  
- معایب: پیچیدگی سخت‌افزاری و هزینه بیشتر  

---

### مقایسه کلی استانداردهای شبکه محلی IEEE 802.X

| استاندارد       | توپولوژی    | روش دسترسی به کانال               | ویژگی‌ها و معایب اصلی                                  |
|-----------------|-------------|----------------------------------|-------------------------------------------------------|
| IEEE 802.3       | باس         | CSMA/CD                         | ساده، ارزان، تأخیر کم، بدون اولویت‌بندی، تصادم امکان‌پذیر |
| IEEE 802.4       | باس با حلقه مجازی | Token Bus                      | سازمان‌یافته، اولویت‌بندی، پیچیده، نیاز به سخت‌افزار زیاد  |
| IEEE 802.5       | حلقه        | Token Ring                     | دیجیتال، اولویت‌بندی، راندمان بالا، هزینه و پیچیدگی زیاد |

---

### استانداردهای شبکه‌های گسترده و بی‌سیم

#### IEEE 802.6 - DQDB (Distributed Queue Dual Bus)

- شبکه بین‌شهری (MAN) با دو رشته فیبر نوری به طول زیاد (تا 160 کیلومتر)  
- نرخ ارسال 44.736 Mbps  
- ارتباط بین ایستگاه‌ها از طریق دو باس یک‌طرفه  
- تولید سلول‌های ثابت 53 بایت توسط ماشین‌های مولد سلول  
- تقویت و ارسال بیت‌ها توسط هر ایستگاه به ایستگاه بعدی  

#### IEEE 802.11 - شبکه‌های بی‌سیم (Wireless LAN)

- انتقال داده توسط ایستگاه‌های متحرک (مانند لپ‌تاپ‌ها) در برد محدود چند ده متر  
- استفاده از باند UHF با پهنای باند 1 تا 2 مگابیت بر ثانیه  
- وجود ایستگاه‌های ثابت برای پوشش و ارتباط ایستگاه‌های متحرک  
- روش دسترسی به کانال:  
  - ارسال فریم RTS (Request To Send) توسط فرستنده به گیرنده  
  - پاسخ CTS (Clear To Send) از گیرنده به فرستنده  
  - ایستگاه‌های دیگر با شنیدن CTS به اندازه مدت انتقال فریم سکوت می‌کنند تا از تصادم جلوگیری شود  
- چالش‌ها:  
  - توپولوژی متغیر شبکه  
  - نیاز به مدیریت مستر یا یار جهت ارتباط ایستگاه‌هایی که در محدوده برد هم نیستند  
  - احتمال تصادم در ارسال فریم‌های کنترل RTS و CTS  

---

### نکات کلیدی و نتیجه‌گیری

- **لایه واسط شبکه** نقش حیاتی در تبدیل کانال‌های انتقال با خطا به خطوط قابل اعتماد دارد، با استفاده از فریم‌بندی و روش‌های کشف خطا مانند بیت توازن، Checksum و CRC.  
- **کانال‌های انتقال** از نظر پهنای باند، پیچیدگی، قیمت و میزان خطا تفاوت‌های اساسی دارند و انتخاب آنها به کاربرد و محیط بستگی دارد.  
- پروتکل‌های نقطه به نقطه مانند **SLIP** و **PPP** تفاوت‌های مهمی در قابلیت‌ها و امنیت دارند که PPP با پشتیبانی از احراز هویت و کشف خطا برتر است.  
- استانداردهای IEEE 802.X برای شبکه‌های محلی با کانال مشترک سه راهکار متفاوت (Ethernet، Token Bus، Token Ring) ارائه می‌دهند که هرکدام مزایا و معایب خاص خود را دارند و بسته به نیاز، کاربرد و هزینه انتخاب می‌شوند.  
- شبکه‌های گسترده‌تر و بی‌سیم با استانداردهای IEEE 802.6 و IEEE 802.11 به ترتیب برای پوشش منطقه شهری و انتقال داده در محیط‌های متحرک طراحی شده‌اند.  
- روش‌های جلوگیری از تصادم در شبکه‌های بی‌سیم (RTS/CTS) و تکنیک‌های مدیریت کانال از اهمیت بالایی برخوردارند تا ارتباطات بهینه و بدون خطا برقرار شود.  

---

این فصل به طور جامع به بررسی تکنولوژی‌ها و استانداردهای لایه واسط شبکه و انتقال داده‌ها پرداخته است و پایه‌ای قوی برای درک بهتر عملکرد شبکه‌های کامپیوتری فراهم می‌کند.
