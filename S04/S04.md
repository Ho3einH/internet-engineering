### خلاصه فصل چهارم: مسیریابی در شبکه اینترنت

فصل چهارم به بررسی مفاهیم، الگوریتم‌ها، پروتکل‌ها و ساختارهای مسیریابی در شبکه‌های کامپیوتری و اینترنت می‌پردازد. این فصل شامل توضیحاتی جامع درباره انواع مسیریابی، الگوریتم‌های مسیریابی، توپولوژی شبکه، پروتکل‌های مسیریابی داخلی و بیرونی، و مشکلات و راهکارهای مرتبط با مسیریابی است.

---

### مفاهیم اولیه مسیریابی

- **مسیریاب (Router):** ابزاری برای اتصال دو یا چند شبکه است که وظیفه هدایت بسته‌های داده‌ای را به مسیر بهینه بر عهده دارد.
- **زیرساخت ارتباطی:** مجموعه‌ای از مسیریاب‌ها و کانال‌های فیزیکی که شبکه را تشکیل می‌دهند.
- **الگوریتم‌های مسیریابی:** روش‌هایی برای یافتن مسیر بهینه جهت انتقال داده‌ها به گونه‌ای که هزینه کل مسیر حداقل شود.

---

### اصطلاحات کلیدی در مسیریابی

| مفهوم        | تعریف                                                                                  |
|--------------|----------------------------------------------------------------------------------------|
| آدرس MAC     | آدرس‌های فیزیکی یک دستگاه در لایه فیزیکی، تغییر می‌کنند و وابسته به پروتکل و توپولوژی هستند.  |
| آدرس IP      | آدرس‌های جهانی و منحصربه‌فرد برای هر ماشین، ثابت و مستقل از سخت‌افزار یا نرم‌افزار.    |
| بسته IP     | واحد اطلاعاتی با اندازه محدود که در شبکه منتقل می‌شود.                                 |
| توپولوژی شبکه | نحوه اتصال مسیریاب‌ها و کانال‌های فیزیکی به یکدیگر، متغیر با زمان است.                   |
| ترافیک شبکه | تعداد متوسط بسته‌های ارسالی یا دریافتی در واحد زمان، متغیر با زمان است.                  |
| گام (Hop)   | عبور یک بسته از یک مسیریاب به مسیریاب بعدی؛ تعداد گام‌ها برابر تعداد مسیریاب‌های مسیر است. |
| ازدحام (Congestion) | زمانی که تعداد بسته‌های ورودی به یک مسیریاب از خروجی آن بیشتر باشد.                      |
| بن‌بست (Deadlock) | پایان عمر بسته‌ها در مسیر به دلیل مشکلات مسیریابی یا ازدحام.                            |

---

### مفاهیم سوئیچینگ در شبکه

- **تکرارکننده (Repeater):** سیگنال ورودی را دریافت و بازتولید می‌کند بدون هیچ پردازشی روی داده.
- **هاب (Hub):** تمامی داده‌های دریافتی را به تمام خروجی‌ها ارسال می‌کند؛ هیچ پردازشی روی آدرس مقصد ندارد.
- **سوییچ (Switch):** فریم‌های داده را پردازش می‌کند و بر اساس آدرس مقصد آنها را به پورت مربوطه ارسال می‌نماید.
- **پل (Bridge):** اتصال دو یا چند شبکه LAN ناهمگون و انجام مسیریابی در لایه 2.
- **دروازه کاربردی (Application Gateway):** نرم‌افزاری که قالب و محتوای داده را تشخیص داده و پیام‌ها را ترجمه می‌کند.
- **مسیریاب (Router):** پردازش بسته‌ها در لایه 3 شبکه، مستقل از سخت‌افزار و کانال انتقال.

---

### روش‌های هدایت بسته‌های اطلاعاتی

| روش            | ویژگی‌ها                                                                                     |
|----------------|---------------------------------------------------------------------------------------------|
| مدار مجازی (VC) | ارسال بسته‌ها با شماره VC بدون نیاز به آدرس IP، دریافت بسته‌ها به ترتیب، بدون گم شدن بسته‌ها.  |
| دیتاگرام       | ارسال هر بسته با آدرس IP مبدا و مقصد، مسیریابی جداگانه برای هر بسته، امکان دریافت بسته‌ها خارج از ترتیب، نیاز به نظارت بر گم‌شدن و تکرار بسته‌ها. |

---

### انواع الگوریتم‌های مسیریابی

- **ایستا (Static):** جداول مسیریابی ثابت و بدون توجه به تغییرات توپولوژی یا ترافیک لحظه‌ای شبکه.
- **پویا (Dynamic):** به‌روزرسانی دوره‌ای جداول مسیریابی بر اساس وضعیت فعلی توپولوژی و ترافیک شبکه.
- الگوریتم‌ها از نظر تصمیم‌گیری به دو دسته تقسیم می‌شوند: ایستا و پویا.
- از نظر روش پردازش اطلاعات، الگوریتم‌ها به دو دسته متمرکز و غیرمتمرکز تقسیم می‌شوند.

---

### الگوریتم‌های مسیریابی پویا

#### الگوریتم لینک‌استیت (Link State - LS)

- هر مسیریاب اطلاعات کامل وضعیت اتصال به همسایگان خود را جمع‌آوری می‌کند.
- سپس این اطلاعات را به صورت بسته‌های LS در شبکه پخش می‌کند.
- هر مسیریاب با استفاده از الگوریتم دایجکسترا، مسیر بهینه به هر گره را محاسبه می‌کند.

مراحل الگوریتم LS:

| گام                     | شرح                                                                                           |
|-------------------------|-----------------------------------------------------------------------------------------------|
| شناسایی مسیریاب‌های مجاور | ارسال بسته Hello به تمام خروجی‌ها و دریافت پاسخ از مسیریاب‌های مجاور                         |
| اندازه‌گیری هزینه‌ها    | ارسال بسته Echo برای اندازه‌گیری تاخیر خطوط خروجی و دریافت پاسخ Echo Reply                   |
| تشکیل بسته‌های LS       | ایجاد بسته شامل آدرس IP، شماره ترتیب، طول عمر و هزینه ارتباط با همسایگان                      |
| توزیع بسته‌های LS        | ارسال بسته‌ها به روش سیل آسا (Flooding) با کنترل شماره ترتیب و طول عمر برای جلوگیری از حلقه |
| محاسبه مسیرهای جدید     | استفاده از الگوریتم دایجکسترا برای انتخاب مسیر بهینه بر اساس هزینه خطوط                       |

---

#### الگوریتم بردار فاصله (Distance Vector - DV)

- الگوریتمی پویا که با ارسال ستون هزینه‌ها به همسایگان کار می‌کند.
- هر مسیریاب فقط هزینه رسیدن به مقصد را به همسایگان اعلام می‌کند، نه کل مسیر.
- معمولاً در شبکه‌های کوچک استفاده می‌شود.

ویژگی‌های الگوریتم DV:

- استفاده در پروتکل RIP.
- محاسبه هزینه‌ها بر اساس تعداد گام‌ها (Hop Count).
- به‌روزرسانی جداول مسیریابی به صورت دوره‌ای.
- مشکل اصلی: مسئله شمارش تا بینهایت (Count to Infinity) که موجب کندی همگرایی می‌شود.

---

### مسئله شمارش تا بینهایت و راه‌حل‌ها

- زمانی رخ می‌دهد که یک مسیر از دست رفته باشد و مسیریاب‌ها اطلاعات نادرستی را به هم ارسال کنند.
- راه‌حل‌ها:
  - اختصاص شماره شناسا برای هر بسته (Selective Flooding)
  - تعیین طول عمر برای بسته‌ها (Time to Live)

---

### مسیریابی سلسله‌مراتبی (Hierarchical Routing)

- برای مدیریت رشد شبکه و کاهش حجم جداول مسیریابی.
- مسیریاب‌ها در گروه‌هایی به نام نواحی (Region) دسته‌بندی می‌شوند.
- هر مسیریاب فقط از مسیرهای داخل ناحیه خود مطلع است و اطلاعی از مسیرهای نواحی دیگر ندارد.
- مزیت اصلی: کاهش حجم جداول مسیریابی و بهبود کارایی شبکه.
- معایب: ممکن است مسیر انتخاب شده بهینه نباشد زیرا اطلاعات کامل توپولوژی موجود نیست.

---

### کاربردهای مسیریابی در اینترنت

- اینترنت از مجموعه‌ای از شبکه‌های خودمختار (Autonomous Systems - AS) تشکیل شده است.
- هر AS شبکه‌ای است که تحت نظارت یک سازمان مستقل قرار دارد.
- مسیریاب‌های مرزی (Border Gateway Routers) برای برقراری ارتباط بین ASهای مختلف استفاده می‌شوند.
- مسیریاب‌های داخلی (Interior Gateway Routers) برای مسیریابی درون AS به کار می‌روند.

---

### پروتکل‌های مسیریابی در شبکه اینترنت

| پروتکل     | نوع           | الگوریتم پایه    | ویژگی‌ها و کاربرد                                          |
|------------|---------------|------------------|----------------------------------------------------------|
| **RIP**    | داخلی (IGP)   | Distance Vector  | قدیمی‌ترین پروتکل، معیار هزینه: تعداد گام، حداکثر ۱۵ گام، تبادل جداول هر ۳۰ ثانیه. |
| **OSPF**   | داخلی (IGP)   | Link State       | استفاده از الگوریتم LS، پشتیبانی از چند معیار هزینه، مسیریابی سلسله مراتبی، همگرایی سریع، پشتیبانی از بار متعادل (Load Balancing). |
| **BGP**    | بیرونی (EGP)  | Path Vector      | مسیریابی بین ASها، ارسال فهرست کامل مسیرها، امکان اعمال سیاست‌های امنیتی، اقتصادی و سیاسی بر انتخاب مسیر، جلوگیری از مشکل شمارش تا بینهایت. |

---

### ویژگی‌های پروتکل RIP

- مبتنی بر الگوریتم بردار فاصله.
- معیار هزینه: تعداد گام (Hop Count).
- حداکثر طول مسیر ۱۵.
- استفاده از پروتکل UDP و پورت ۵۲۰ برای تبادل جداول.
- مشکل اصلی: عدم همگرایی سریع و محدودیت طول مسیر.

---

### ویژگی‌های پروتکل OSPF

- مبتنی بر الگوریتم لینک‌استیت.
- امکان در نظر گرفتن چند معیار هزینه.
- تقسیم شبکه به نواحی برای کاهش حجم اطلاعات.
- به‌روزرسانی سریع جداول مسیریابی در صورت تغییر توپولوژی.
- پشتیبانی از مسیریابی سلسله مراتبی.
- امکان بار متعادل میان مسیرهای مختلف.

---

### ویژگی‌های پروتکل BGP

- پروتکل مسیریابی بیرونی بین شبکه‌های خودمختار.
- ارسال فهرست کامل مسیرها (Path Vector) به جای جداول هزینه.
- جلوگیری از مشکل شمارش تا بینهایت.
- امکان انتخاب مسیر بر اساس سیاست‌های امنیتی، اقتصادی و سیاسی.
- انواع پیام‌ها در BGP:
  - OPEN: برقراری ارتباط
  - KEEPALIVE: حفظ ارتباط
  - NOTIFICATION: گزارش خطا
  - UPDATE: ارسال اطلاعات مسیر

---

### جدول مقایسه اندازه جداول مسیریابی در روش‌های سلسله‌مراتبی

| تعداد ناحیه‌ها (Regions) | تعداد رکوردهای جدول مسیریابی | توضیحات                     |
|--------------------------|------------------------------|-----------------------------|
| بدون سلسله‌مراتب         | 720                          | حجم بزرگ جدول               |
| دو سطحی                  | 5330                         | بهبود نسبت به حالت بدون سلسله‌مراتب |
| سه سطحی                  | 194459                       | کاهش چشمگیر حجم جدول        |

*مشکل:* عدم دسترسی کامل به توپولوژی کل زیرشبکه و احتمال انتخاب مسیر غیر بهینه.

---

### نتیجه‌گیری

- **مسیریابی در شبکه‌های کامپیوتری و اینترنت، نقش کلیدی در بهبود کارایی و بهره‌وری شبکه‌ها دارد.**
- **الگوریتم‌های لینک‌استیت و بردار فاصله دو رویکرد اصلی در مسیریابی پویا هستند که هرکدام مزایا و معایب خاص خود را دارند.**
- **پروتکل‌های RIP، OSPF و BGP نمونه‌های عملی و متداول در مسیریابی داخلی و بیرونی هستند که بر اساس نیازهای مختلف شبکه‌ها کاربرد دارند.**
- **مسیریابی سلسله‌مراتبی راهکاری مؤثر برای مدیریت شبکه‌های بزرگ و پیچیده است و باعث کاهش حجم جداول مسیریابی می‌شود.**
- **مسائل مهمی مانند مشکل شمارش تا بینهایت در الگوریتم‌های بردار فاصله وجود دارد که با استفاده از روش‌هایی مانند محدودیت طول عمر بسته‌ها و شماره‌گذاری بسته‌ها قابل کنترل است.**

---

این خلاصه به صورت کاملاً منطبق با محتوای منبع و بدون هیچگونه افزودنی یا اطلاعات غیرمستند تهیه شده است.
